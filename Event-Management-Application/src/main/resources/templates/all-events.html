<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>All Events</title>
	<link rel="stylesheet" href="/css/style.css">

	<script type="text/javascript">

	function deleteConfirmation() {
		if(confirm("Are you sure you want to delete this item?")){
			console.log("The item has been deleted");
		} else {
			console.log("The item has not been deleted! Close one!");
			return false;
		}
	}

	</script>

</head>
<body>
<select name="filter" id="filter" onchange="location = '/viewAll/' + this.value;">
	<option disabled selected>Filter by Type</option>
	<option>All Events</option>
    <option th:each="currentType : ${types}" th:value="${currentType}" th:text="${currentType}">
    </option>
</select>
<br>
<table>
<tr th:each="currentEvent : ${events}" >
<td class="eventEntry">
<h2 class="eventName">
<a th:text="${currentEvent.eventName}" th:href="@{/viewEvent/{id}(id=${currentEvent.id})}"></a>
</h2><br>
<div class="description">
<span th:text="${currentEvent.description}"></span>
</div>
<br>
<div class="details">
<span th:text="${#dates.format(currentEvent.date, 'MM/dd/YY')}"></span> at
<span th:text="${#dates.format(currentEvent.startTime, 'hh:mm aa')}"></span><br>
Tickets start at: $<span th:text="${currentEvent.pricePerTicket}"></span>
</div>

	<td><a th:href="@{/edit/{id}(id=${currentEvent.id})}">Edit</a></td>
	<td><a th:href="@{/delete/{id}(id=${currentEvent.id})}" onclick="return deleteConfirmation();">Delete</a></td>

</td>
</tr>
</table>
<span th:if="${cookieUser.canAddEvents}"><a href="/inputEvent">Create an event</a></span><br />
<a href="/index">Back to home</a>
</body>
</html>
